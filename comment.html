<!DOCTYPE html>
<html lang="ru">

<head>
  <title>Мотошкола</title>
  <meta charset="utf-8">
  <meta name="description" content="Мотошкола для безопасного вождения">
  <meta name="keywords" content="Мотошкола, мото, мотоцикл, 2 колеса">
  <meta name="author" content="Шалунов Виталий">
  <link rel="shortcut icon" href="img/action-asphalt-auto-1377393.jpg" type="image/x-icon">
  <link rel="stylesheet" href="lib/css/bootstrap.css">
  <link rel="stylesheet" href="style/style.css">
  <link rel="stylesheet" href="lib/css/bootstrap.min.css">
  <link rel="stylesheet" href="lib/css/bootstrap-grid.css">
  <link rel="stylesheet" href="lib/css/bootstrap-grid.min.css">
  <link rel="stylesheet" href="lib/css/bootstrap-reboot.css">
  <link rel="stylesheet" href="lib/css/bootstrap-reboot.min.css">
  <link href="https://fonts.googleapis.com/css?family=Noto+Serif|Raleway&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="path/to/font-awesome/css/font-awesome.min.css">
  <link href="https://fonts.googleapis.com/css?family=Libre+Franklin|Open+Sans&display=swap" rel="stylesheet">


</head>

<body style="background-color: #0e0202d9;">
  <header>
    <div id="head">motorcycle school</div>
  </header>
  <hr>
  <nav>
    <!-- Навигация -->
    <nav class="navbar navbar-light" style="background-color: #e3f2fd; padding-top: 15px;">
      <nav class="navbar navbar-light bg-light">
        <a class="navbar-brand"><a href="index.html" class="navbar-brand"><i class="fa fa-home fa-lg"
              aria-hidden="true"></i>Главная</a></a>
        <a href="aboutus.html" class="navbar-brand">О нас</a>
        <a href="contacts.html" class="navbar-brand">Контакты</a>
        <a href="#" class="navbar-brand">Отзывы</a>
        <div style="text-align: right; margin-right: 50px; vertical-align: middle; margin-top: 10px;">
          <form class="form-inline">
            <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
            <button class="btn btn-outline-success my-2 my-sm-0 " type="submit"><span id="btn">Search</span></button>
          </form>
        </div>
      </nav>
    </nav>
  </nav>

  <main>
    <article>
      <!-- Блок для оставления отзывов, взаимодействие образовано с помощью скрипта -->
      <div >      <h2 style="color:wheat;margin: 20px;">Отзывы</h2>
      <div class="container" id="comment">
        <ul>

        </ul>
        <textarea name="textblock" id="textblock" cols="35" rows="5"></textarea>

        <br> <button type="button" id="btntextblock" style="background-color: greenyellow;"
          class="btn btn-outline-success">Отправить</button>
        </div>

      </div>





    </article>

    <aside>
      <!-- Иконка, у которой будет анимация -->
      <div id="mot"> <i class="fas fa-motorcycle" style="color:white; margin-left: +50px;"></i></div>



    </aside>
  </main>

  <footer>
    <p>Copyright &copy; 2019. Шалунов Виталий</p>
  </footer>
  <script src="lib/js/bootstrap.bundle.js"></script>
  <script src="lib/js/bootstrap.bundle.min.js"></script>
  <script src="lib/js/bootstrap.js"></script>
  <script src="lib/js/bootstrap.min.js"></script>

  <script type="text/javascript" src="js/jquery-3.4.1.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="js/script.js"></script>
  <script src="https://kit.fontawesome.com/1d9cdfc99c.js"></script>
  <script>

    //localStorage.clear();

    var comment = new Array(); //массив для хранения отзывов
    var i = 0;
    if (document.readyState !== "loading") {
      showcontent();
    } else {
      document.addEventListener("DOMContentLoaded", showcontent());
    }

    function showcontent() {
      // Загрузка прошлых отзывов
      if(localStorage.getItem('comment') !==null){
      comment = JSON.parse(localStorage['comment']); //получение массива из localstorage
      if (comment) {
        for (var i = 0; i < comment.length; i++)
          $('#comment ul').append("<li>" + comment[i] + "</li><br>");
      }
      // }
      //   }
      }
    }
   
    i = comment.length;
    $("#btntextblock").on("click", function () { //при клике на кнопку отправить будем добавляться отзыв 

      var tex = $("#textblock").val();
      if (tex !== "") {
        $('#comment ul').append("<li>" + tex + "</li><br>");
        comment[i++] = tex;
        // console.log("comment[i]"+i+"="+comment[i-1]);
        $("#textblock").val("");
      }
    });

    // При выходе из данной вкладки массив отзывов будет сохранён в local storage
    window.onbeforeunload = function () {

      localStorage.setItem('comment', JSON.stringify(comment));

    };

    console.log(typeof comment);
    console.log(comment);


    $("#textblock").on('mouseover', function () { //анимация для изображения
      $("#mot").animate({
        marginLeft: "+=500px"
      }, 800
      );
    });


    $("#textblock").on('mouseout', function () { //анимация для изображения
      $("#mot").animate({
        marginLeft: "-=500px"
      }, 500);
    });

  </script>
</body>

</html>